!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{lu3c:function(i,n,o){"use strict";o.r(n),o.d(n,"LoginModule",(function(){return S}));var r=o("ofXK"),a=o("3Pt+"),s=o("tyNb"),u=o("fXoL"),b=o("N/25");function c(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"Enter a valid 10-digit mobile number"),u.Mb())}function l(t,e){if(1&t){var i=u.Ob();u.Nb(0,"div",10),u.Nb(1,"form",11),u.Ub("ngSubmit",(function(){return u.kc(i),u.Wb().sendOtp()})),u.Nb(2,"div",12),u.Nb(3,"label",13),u.qc(4,"Mobile"),u.Mb(),u.Kb(5,"input",14),u.oc(6,c,2,0,"span",15),u.Mb(),u.Nb(7,"div",16),u.Nb(8,"button",17),u.qc(9," Send Otp "),u.Mb(),u.Mb(),u.Mb(),u.Mb()}if(2&t){var n=u.Wb();u.xb(1),u.bc("formGroup",n.loginSendOtpForm),u.xb(5),u.bc("ngIf",!n.loginSendOtpForm.controls.inputMobile.valid&&n.loginSendOtpForm.controls.inputMobile.touched)}}function d(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"OTP is required"),u.Mb())}function p(t,e){if(1&t){var i=u.Ob();u.Nb(0,"div",10),u.Nb(1,"form",11),u.Ub("ngSubmit",(function(){return u.kc(i),u.Wb().verifyOtp()})),u.Nb(2,"div",12),u.Nb(3,"label",13),u.qc(4,"OTP"),u.Mb(),u.Kb(5,"input",19),u.oc(6,d,2,0,"span",15),u.Mb(),u.Nb(7,"div",16),u.Nb(8,"button",17),u.qc(9," Verify Otp "),u.Mb(),u.Mb(),u.Mb(),u.Mb()}if(2&t){var n=u.Wb();u.xb(1),u.bc("formGroup",n.loginVerifyOtpForm),u.xb(5),u.bc("ngIf",!n.loginVerifyOtpForm.controls.inputOtp.valid&&n.loginVerifyOtpForm.controls.inputOtp.touched)}}function m(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"Name is required"),u.Mb())}function g(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"Email is required"),u.Mb())}function f(t,e){if(1&t){var i=u.Ob();u.Nb(0,"div",10),u.Nb(1,"form",11),u.Ub("ngSubmit",(function(){return u.kc(i),u.Wb().saveRegisteration()})),u.Nb(2,"div",12),u.Nb(3,"label",13),u.qc(4,"Name"),u.Mb(),u.Kb(5,"input",20),u.oc(6,m,2,0,"span",15),u.Mb(),u.Nb(7,"div",12),u.Nb(8,"label",13),u.qc(9,"Email"),u.Mb(),u.Kb(10,"input",21),u.oc(11,g,2,0,"span",15),u.Mb(),u.Nb(12,"div",16),u.Nb(13,"button",17),u.qc(14," Save "),u.Mb(),u.Mb(),u.Mb(),u.Mb()}if(2&t){var n=u.Wb();u.xb(1),u.bc("formGroup",n.registerationForm),u.xb(5),u.bc("ngIf",!n.registerationForm.controls.regName.valid&&n.registerationForm.controls.regName.touched),u.xb(5),u.bc("ngIf",!n.registerationForm.controls.regEmail.valid&&n.registerationForm.controls.regEmail.touched)}}function v(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"Pincode is required"),u.Mb())}function h(t,e){if(1&t){var i=u.Ob();u.Nb(0,"div",10),u.Nb(1,"form",11),u.Ub("ngSubmit",(function(){return u.kc(i),u.Wb().checkPincode()})),u.Nb(2,"div",12),u.Nb(3,"label",13),u.qc(4,"Pincode"),u.Mb(),u.Kb(5,"input",22),u.oc(6,v,2,0,"span",15),u.Mb(),u.Nb(7,"div",16),u.Nb(8,"button",17),u.qc(9," Submit "),u.Mb(),u.Mb(),u.Mb(),u.Mb()}if(2&t){var n=u.Wb();u.xb(1),u.bc("formGroup",n.pincodeForm),u.xb(5),u.bc("ngIf",!n.pincodeForm.controls.pincode.valid&&n.pincodeForm.controls.pincode.touched)}}function N(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"House name is required"),u.Mb())}function M(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"Landmark is required"),u.Mb())}function y(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"House number is required"),u.Mb())}function O(t,e){1&t&&(u.Nb(0,"span",18),u.qc(1,"City is required"),u.Mb())}function k(t,e){if(1&t){var i=u.Ob();u.Nb(0,"div",10),u.Nb(1,"form",11),u.Ub("ngSubmit",(function(){return u.kc(i),u.Wb().registerCustomer()})),u.Nb(2,"div",23),u.Nb(3,"div",24),u.Nb(4,"div",12),u.Nb(5,"label",13),u.qc(6,"House Name"),u.Mb(),u.Kb(7,"input",25),u.oc(8,N,2,0,"span",15),u.Mb(),u.Nb(9,"div",12),u.Nb(10,"label",13),u.qc(11,"Landmark"),u.Mb(),u.Kb(12,"input",26),u.oc(13,M,2,0,"span",15),u.Mb(),u.Mb(),u.Nb(14,"div",24),u.Nb(15,"div",12),u.Nb(16,"label",13),u.qc(17,"House Number"),u.Mb(),u.Kb(18,"input",27),u.oc(19,y,2,0,"span",15),u.Mb(),u.Nb(20,"div",12),u.Nb(21,"label",13),u.qc(22,"City"),u.Mb(),u.Kb(23,"input",28),u.oc(24,O,2,0,"span",15),u.Mb(),u.Mb(),u.Mb(),u.Nb(25,"div",29),u.Nb(26,"button",17),u.qc(27," Submit "),u.Mb(),u.Mb(),u.Mb(),u.Mb()}if(2&t){var n=u.Wb();u.xb(1),u.bc("formGroup",n.addressForm),u.xb(7),u.bc("ngIf",!n.addressForm.controls.regHouseName.valid&&n.addressForm.controls.regHouseName.touched),u.xb(5),u.bc("ngIf",!n.addressForm.controls.regLandmark.valid&&n.addressForm.controls.regLandmark.touched),u.xb(6),u.bc("ngIf",!n.addressForm.controls.regHouseNum.valid&&n.addressForm.controls.regHouseNum.touched),u.xb(5),u.bc("ngIf",!n.addressForm.controls.regCity.valid&&n.addressForm.controls.regCity.touched)}}var F,q,x,C=function(t){return{"large-modal":t}},_=((x=function(){function i(e,n,o,r){t(this,i),this.fb=e,this._auth=n,this.router=o,this.route=r,this.activeLoginStep="step1",this.pincodeErrorMsg=!1,this.loginSendOtpForm=e.group({inputMobile:[null,a.o.compose([a.o.required,a.o.pattern("^((\\+91-?)|0)?[0-9]{10}$")])]})}var n,o,r;return n=i,(o=[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.urlWithoutAuxiliaryRoute=this.router.createUrlTree(["."],{relativeTo:this.route}).root.children[s.c].toString()}},{key:"sendOtp",value:function(){var t=this;this.loginSendOtpForm.valid&&(this.inputMobile=this.loginSendOtpForm.controls.inputMobile.value,this._auth.loginSendOtp(this.inputMobile).subscribe((function(e){"ok"===e.status&&(t.step2(),t.activeLoginStep="step2")})))}},{key:"step2",value:function(){this.loginVerifyOtpForm=this.fb.group({inputOtp:[null,a.o.required]})}},{key:"verifyOtp",value:function(){var t=this;this.loginVerifyOtpForm.valid&&(this.inputOtp=this.loginVerifyOtpForm.controls.inputOtp.value,this._auth.loginVerifyOtp(this.inputMobile,this.inputOtp.toString()).subscribe((function(e){"ok"===e.status&&e.data.is_verified&&e.data.is_registered?t.router.navigate([t.urlWithoutAuxiliaryRoute]):"ok"===e.status&&e.data.is_verified&&!e.data.is_registered?(t.step3(),t.activeLoginStep="step3"):"ok"!==e.status||e.data.is_verified?"error"===e.status&&alert(e.error.msg):(alert("Wrong otp. Try again"),t.loginVerifyOtpForm.controls.inputOtp.setValue(""))})))}},{key:"step3",value:function(){this.registerationForm=this.fb.group({regName:[null,a.o.required],regEmail:[null,a.o.required]})}},{key:"saveRegisteration",value:function(){this.registerationForm.valid&&(this.inputName=this.registerationForm.controls.regName.value,this.inputEmail=this.registerationForm.controls.regEmail.value,this.step4(),this.activeLoginStep="step4")}},{key:"step4",value:function(){this.pincodeForm=this.fb.group({pincode:[null,a.o.required]})}},{key:"checkPincode",value:function(){var t=this;this.pincodeForm.valid&&(this.inputPincode=this.pincodeForm.controls.pincode.value,this._auth.checkPincode({pincode:this.inputPincode}).subscribe((function(e){"ok"===e.status&&(t.inputDistrict=e.data.district_and_state.dst_Name,t.step5(),t.activeLoginStep="step5")}),(function(e){406===e.status&&(alert("We provide delivery to selected areas only. Pincode you provided is not supported by us"),t.pincodeForm.reset())})))}},{key:"step5",value:function(){this.addressForm=this.fb.group({regHouseName:[null,a.o.required],regLandmark:[null,a.o.required],regHouseNum:[null,a.o.required],regCity:[this.inputDistrict,a.o.required]})}},{key:"registerCustomer",value:function(){var t=this;this.addressForm.valid&&this._auth.registerCustomer({name:this.inputName,house_name:this.addressForm.controls.regHouseName.value,land_mark:this.addressForm.controls.regLandmark.value,email:this.inputEmail,house_no:this.addressForm.controls.regHouseNum.value,city:this.inputDistrict,pincode:this.inputPincode,mobile:this.inputMobile,deli_latitude:"8.469907181816176",deli_longitude:"76.981595326828"}).subscribe((function(e){"ok"===e.status&&t.router.navigate([t.urlWithoutAuxiliaryRoute])}))}},{key:"closeLogin",value:function(){this.router.navigate([this.urlWithoutAuxiliaryRoute])}}])&&e(n.prototype,o),r&&e(n,r),i}()).\u0275fac=function(t){return new(t||x)(u.Jb(a.b),u.Jb(b.a),u.Jb(s.d),u.Jb(s.a))},x.\u0275cmp=u.Db({type:x,selectors:[["app-login"]],decls:18,vars:8,consts:[["id","app"],["id","greeting-modals",1,"modals-container"],[1,"modals",3,"ngClass"],["href","javascript:void(0)",1,"closebtn",3,"click"],[1,"title"],[1,"logo-login"],["href","javascript:void(0)"],["src","assets/images/logo.png","alt","Consumerfed",1,"img-fluid"],["class","login-form",4,"ngIf"],["href","javascript:void(0)",1,"modals-bg"],[1,"login-form"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","first",1,"form-label"],["id","inputMobileField","name","inputMobile","type","number","value","","placeholder","10-digit Mobile number","formControlName","inputMobile",1,"form-input"],["class","invalid-field",4,"ngIf"],[1,"submitdiv"],["type","submit",1,"btn","submitbtn"],[1,"invalid-field"],["id","inputMobileField","name","inputMobile","type","number","value","","placeholder","Enter OTP received in your mobile number","formControlName","inputOtp",1,"form-input"],["name","inputName","type","text","value","","placeholder","","formControlName","regName",1,"form-input"],["name","inputEmail","type","text","value","","placeholder","","formControlName","regEmail",1,"form-input"],["name","inputPincode","type","text","value","","placeholder","","formControlName","pincode",1,"form-input"],[1,"row"],[1,"col-md-6","left-area-login"],["name","inputHouseName","type","text","value","","placeholder","","formControlName","regHouseName",1,"form-input"],["name","inputName","type","text","value","","placeholder","","formControlName","regLandmark",1,"form-input"],["name","inputHouseNum","type","text","value","","placeholder","","formControlName","regHouseNum",1,"form-input"],["name","inputCity","type","text","value","","placeholder","","formControlName","regCity",1,"form-input"],[1,"submitdiv",2,"margin-top","-20%"]],template:function(t,e){1&t&&(u.Nb(0,"div",0),u.Nb(1,"div",1),u.Nb(2,"div",2),u.Nb(3,"div"),u.Nb(4,"a",3),u.Ub("click",(function(){return e.closeLogin()})),u.qc(5,"\xd7"),u.Mb(),u.Mb(),u.Nb(6,"div",4),u.Nb(7,"h3"),u.qc(8,"Login / Register"),u.Mb(),u.Mb(),u.Nb(9,"div",5),u.Nb(10,"a",6),u.Kb(11,"img",7),u.Mb(),u.Mb(),u.oc(12,l,10,2,"div",8),u.oc(13,p,10,2,"div",8),u.oc(14,f,15,3,"div",8),u.oc(15,h,10,2,"div",8),u.oc(16,k,28,5,"div",8),u.Mb(),u.Kb(17,"a",9),u.Mb(),u.Mb()),2&t&&(u.xb(2),u.bc("ngClass",u.ec(6,C,"step5"===e.activeLoginStep)),u.xb(10),u.bc("ngIf","step1"===e.activeLoginStep),u.xb(1),u.bc("ngIf","step2"===e.activeLoginStep),u.xb(1),u.bc("ngIf","step3"===e.activeLoginStep),u.xb(1),u.bc("ngIf","step4"===e.activeLoginStep),u.xb(1),u.bc("ngIf","step5"===e.activeLoginStep))},directives:[r.i,r.k,a.q,a.i,a.d,a.l,a.a,a.h,a.c],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}#greeting-modals[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:all .5s cubic-bezier(.075,.82,.165,1)}#greeting-modals[_ngcontent-%COMP%]   .modals[_ngcontent-%COMP%]{transform:translateY(-1rem);transition:all .3s cubic-bezier(.075,.82,.165,1);transition-delay:.2s;transform:translateY(0);opacity:1}.modals-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modals-bg[_ngcontent-%COMP%], .modals-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0}.modals-bg[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}.modals[_ngcontent-%COMP%]{z-index:1;background-color:#fff;width:30%;max-width:100vh;padding:1rem;border-radius:8px}.title[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.invalid-field[_ngcontent-%COMP%]{color:red}.large-modal[_ngcontent-%COMP%]{width:40%!important}.closebtn[_ngcontent-%COMP%]{float:right;margin-top:-5%;color:#000;font-size:40px}"]}),x),P=((q=function e(){t(this,e)}).\u0275mod=u.Hb({type:q}),q.\u0275inj=u.Gb({factory:function(t){return new(t||q)},imports:[[s.g.forChild([{path:"",component:_}])],s.g]}),q),S=((F=function e(){t(this,e)}).\u0275mod=u.Hb({type:F}),F.\u0275inj=u.Gb({factory:function(t){return new(t||F)},imports:[[r.b,P,a.e,a.m]]}),F)}}])}();